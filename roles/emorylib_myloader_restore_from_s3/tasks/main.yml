---
# tasks file for emorylib_myloader_restore_from_s3

- name: Include tasks to error check input variable
  include_tasks: error-check-input.yml

- name: Include tasks to download mydumper backup from s3
  include_tasks: download-from-s3.yml
  vars:
    s3: '{{ myloader_restore.s3 | d () }}'
  when: myloader_restore.s3 is defined

- name: Include tasks to shutdown specified programs
  include_tasks: stop-programs.yml
  when: myloader_stop_programs is defined

- name: Run myloader command
  shell: 'echo {{ lookup ("template", "myloader_command.j2") }}'

  