# s3_batch_op
s3_batch_operations: '{{ curate_test_put_copy_op }}'

s3_batch_operation:
  region: us-west-1
  account_id: '{{ aws_account_number }}'
  role_arn: 'arn:aws:iam::{{ aws_account_number }}:role/s3-batch-job-role'

curate_test_tagging_op:
  - operation:
      S3PutObjectTagging:
        TagSet:
          - Key: AnsibleFirstKey
            Value: Working
          - Key: Ansible2ndKey
            Value: ''
    manifest:
      Spec:
        Format: S3InventoryReport_CSV_20161130
      Location:
        ObjectArn: arn:aws:s3:::cor-s3-inventory-1/fedora-cor-test-binaries/manifest/2019-10-14T04-00Z/manifest.json
        ETag: 45776d867f68e0a618b1af436e6a7079
    report:
      Bucket: arn:aws:s3:::cor-s3-inventory-1
      Prefix: fedora-cor-test-binaries/completion-report
      Format: Report_CSV_20180820
      Enabled: true
      ReportScope: AllTasks
    priority: 23
    description: Testing from Ansible!

curate_test_put_copy_op:
  - region: us-east-1
    operation:
      S3PutObjectCopy:
        TargetResource: arn:aws:s3:::fedora-cor-arch-binaries
    manifest:
      Spec:
        Format: S3InventoryReport_CSV_20161130
      Location:
        ObjectArn: arn:aws:s3:::cor-s3-inventory-1/fedora-cor-test-binaries/manifest/2019-10-14T04-00Z/manifest.json
        ETag: 45776d867f68e0a618b1af436e6a7079
    report:
      Bucket: arn:aws:s3:::cor-s3-inventory-2
      Prefix: fedora-cor-arch-binaries/completion-report
      Format: Report_CSV_20180820
      Enabled: true
      ReportScope: AllTasks
    priority: 23
    description: Test Copy Operation in Ansible