---
- hosts: localhost
  gather_facts: yes
  
  tasks:
    - name: Output if running in Core
      debug:
        msg: 'Running in Ansible Core !!'
      when: not ansible_env.AWX_HOST | d (False)

    - name: Output if running in Tower
      debug:
        msg: 'Running on AWX at {{ ansible_env.AWX_HOST | d (False) }}'
      when: ansible_env.AWX_HOST | d (False)