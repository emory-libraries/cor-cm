---
- hosts: localhost
  vars:
    og_list:
      - 1
      - 2
      - 3
      - 4
      - 5
  tasks:
    
    - name: Calculate number of loops to divid list
      set_fact:
        calculate_loop: '{{ (og_list | count / 2) | round(0, "ceil") | int }}'
    
    - name: Use sequence to create list
      debug:
        msg: '{{ item }}'
      with_sequence: start=1 end='{{ calculate_loop }}'
      register: loop_info
   
    - include_tasks: test-inner-loop.yml
      loop: '{{ loop_info.results }}'
      loop_control:
        loop_var: outer_index
    
    - name: Get lists of vars
      debug:
        msg: '{{ lookup("vars", item) }}'
      loop: '{{ lookup("varnames", "temp_list").split(",") }}'
